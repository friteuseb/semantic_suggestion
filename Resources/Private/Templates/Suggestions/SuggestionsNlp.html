<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Default" />

<f:section name="content">
    <h2>Pages suggérées</h2>

    <f:if condition="{suggestions}">
        <f:then>
            <f:for each="{suggestions}" as="suggestion">
                <div class="suggestion">
                    <h3>{suggestion.data.title}</h3>
                    <p>Similarité: <f:format.number decimals="2">{suggestion.similarity}</f:format.number></p>
                    
                    <f:if condition="{suggestion.nlp}">
                        <div class="nlp-data">
                            <p>Sentiment: {suggestion.nlp.sentiment}</p>
                            
                            <h4>Phrases clés:</h4>
                            <ul>
                                <f:for each="{suggestion.nlp.keyphrases}" as="keyphrase">
                                    <li>{keyphrase}</li>
                                </f:for>
                            </ul>
                            
                            <p>Catégorie: {suggestion.nlp.category}</p>
                            
                            <h4>Entités nommées:</h4>
                            <ul>
                                <f:for each="{suggestion.nlp.named_entities}" as="entity">
                                    <li>{entity.text} ({entity.label})</li>
                                </f:for>
                            </ul>
                            
                            <p>Score de lisibilité: <f:format.number decimals="1">{suggestion.nlp.readability_score}</f:format.number></p>
                        </div>
                    </f:if>
                </div>
            </f:for>
        </f:then>
        <f:else>
            <p>Aucune suggestion trouvée pour cette page.</p>
        </f:else>
    </f:if>
</f:section>
</html>