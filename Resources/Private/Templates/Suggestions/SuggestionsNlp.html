<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Default" />

<f:section name="content">
    <h2>Pages suggérées</h2>
    <f:if condition="{suggestions}">
        <f:then>
            <f:for each="{suggestions}" as="suggestion">
                <div class="suggestion">
                    <h3>{suggestion.data.title}</h3>
                    <p>Similarité: {suggestion.similarity -> f:format.number(decimals: 2)}</p>
                    <f:if condition="{suggestion.nlp}">
                        <div class="nlp-analysis">
                            <h4>Analyse NLP</h4>
                            <p>Sentiment: {suggestion.nlp.sentiment}</p>
                            <p>Catégorie: {suggestion.nlp.category}</p>
                            <p>Score de lisibilité: {suggestion.nlp.readability_score -> f:format.number(decimals: 2)}</p>
                            <p>Nombre de mots: {suggestion.nlp.word_count}</p>
                            <p>Nombre de mots uniques: {suggestion.nlp.unique_word_count}</p>
                            <p>Complexité: {suggestion.nlp.complexity -> f:format.number(decimals: 2)}</p>
                            <h5>Phrases clés:</h5>
                            <ul>
                                <f:for each="{suggestion.nlp.keyphrases}" as="keyphrase">
                                    <li>{keyphrase}</li>
                                </f:for>
                            </ul>
                            <h5>Entités nommées:</h5>
                            <ul>
                                <f:for each="{suggestion.nlp.named_entities}" as="entity">
                                    <li>{entity.name} ({entity.type})</li>
                                </f:for>
                            </ul>
                        </div>
                    </f:if>
                </div>
            </f:for>
        </f:then>
        <f:else>
            <p>Aucune suggestion trouvée pour cette page.</p>
        </f:else>
    </f:if>
</f:section>
</html>